cmake_minimum_required(VERSION 3.14 FATAL_ERROR) # Require CMake 3.14+

get_filename_component(CMZED_CMAKE_DIR "${CMAKE_CURRENT_LIST_FILE}" PATH)

list(APPEND CMAKE_MODULE_PATH ${CMZED_CMAKE_DIR} )
include(CMakeFindDependencyMacro)

set( CMZED_ENABLE_OPENMP @CMZED_ENABLE_OPENMP@ )

# Always Required Dependencies
if( CMZED_ENABLE_OPENMP )
  find_dependency( OpenMP )
endif()
find_dependency( LAPACK )
find_dependency( Eigen3 )

list(REMOVE_AT CMAKE_MODULE_PATH -1)

if(NOT TARGET cmz::ed)
    include("${CMZED_CMAKE_DIR}/cmzed-targets.cmake")
endif()

set(CMZED_LIBRARIES cmz::ed)
